(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,a){e.exports={Button_container:"CartForm_Button_container__2_qDN",Form:"CartForm_Form__2Eu2z",Form_container:"CartForm_Form_container__1_zQP",Form_input:"CartForm_Form_input__1Nj2V",separator:"CartForm_separator__36HPB",invalid:"CartForm_invalid__3Jtyj"}},,,function(e,t,a){e.exports={animation:"Button_animation__jpGOl",addItem:"Button_addItem__1CsuR",header:"Button_header__3IIF2",header__svg:"Button_header__svg__rpCA8",header__number:"Button_header__number__1zDho",cancel:"Button_cancel__1lt2O",submit:"Button_submit__3tTyH",submit_hover:"Button_submit_hover__3TAXr",add:"Button_add__dvCKx",cart:"Button_cart__2mYm8",invalid:"Button_invalid__21uog"}},function(e,t,a){e.exports={modal__meal:"CartItem_modal__meal__1gfHd","modal__container-left":"CartItem_modal__container-left__3fWoF","modal__container-right":"CartItem_modal__container-right__3SrLe","modal__container-price":"CartItem_modal__container-price__1XZy8",modal__price:"CartItem_modal__price__hw6y1",modal__amount:"CartItem_modal__amount__1m2OU"}},,,function(e,t,a){e.exports={cart:"Cart_cart__v_5iZ",total__container:"Cart_total__container__2RH2E"}},,,,,function(e,t,a){e.exports={background:"Modal_background__2S51x",modal:"Modal_modal__305Dz"}},function(e,t,a){e.exports={loading:"MealsList_loading__3WIkf"}},function(e,t,a){e.exports={app:"App_app__ZX-RN"}},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(8),c=a.n(n),r=(a(21),a(1)),s=a.n(r),o=a(3),i=(a(22),a(5)),l=a.n(i),u=a.p+"static/media/shopping-cart.e83b041e.svg",d=a(10),j=a(4),m=a(0),b=s.a.createContext({}),_=function(e){var t=Object(r.useState)(!1),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),o=Object(j.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)([]),_=Object(j.a)(u,2),O=_[0],p=_[1],h=Object(r.useState)(!1),f=Object(j.a)(h,2),v=f[0],x=f[1],N=Object(r.useState)(""),y=Object(j.a)(N,2),g=y[0],C=y[1],F=Object(r.useState)(""),S=Object(j.a)(F,2),M=S[0],k=S[1],B=Object(r.useState)(""),L=Object(j.a)(B,2),A=L[0],I=L[1],E=Object(r.useState)(""),P=Object(j.a)(E,2),w=P[0],R=P[1],T=Object(r.useState)(""),D=Object(j.a)(T,2),H=D[0],J=D[1],Y=Object(r.useState)(""),z=Object(j.a)(Y,2),K=z[0],V=z[1],W=function(e){p(e.filter((function(e){return e.amount>0})))},X=Object(r.useReducer)((function(e,t){switch(t.type){case"increment":return{count:e.count+ +t.amount};case"decrement":return{count:e.count-+t.amount};case"delete":return{count:t.amount};default:console.log("Error Reducer")}}),{count:0}),Z=Object(j.a)(X,2),$=Z[0],q=Z[1],G=Object(r.useReducer)((function(e,t){0!==e.length&&"delete"!==t.type||(e=i);var a,n=Object(d.a)(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;c.id===t.id&&("add"===t.type&&(c.amount+=t.value),"remove"===t.type&&(c.amount-=t.value))}}catch(r){n.e(r)}finally{n.f()}return W(e),e}),[]),Q=Object(j.a)(G,2),U=(Q[0],Q[1]);return Object(m.jsx)(b.Provider,{value:{modalState:n,openModal:function(){c(!0)},closeModal:function(){c(!1)},setCount:q,cartCounter:$,cartMeals:O,setCartMeals:p,changeMealAmount:U,setMeals:function(e){l(e)},setAnimation:function(){x(!0),setTimeout((function(){x(!1)}),500)},animation:v,firstName:g,lastName:M,street:A,streetNumber:w,postalCode:H,city:K,setFirstName:function(e){C(e)},setLastName:function(e){k(e)},setStreet:function(e){I(e)},setStreetNumber:function(e){R(e)},setPostalCode:function(e){J(e)},setCity:function(e){V(e)}},children:e.children})},O=b,p=function(e){var t=Object(r.useContext)(O).animation?"".concat(l.a.animation):"",a="".concat(l.a.header," ").concat(t);return Object(m.jsxs)("button",{className:a,onClick:function(){e.openModal()},children:[Object(m.jsx)("img",{alt:"Cart Icon",className:l.a.header__svg,src:u}),Object(m.jsx)("h3",{children:"Your Cart"}),Object(m.jsx)("h3",{className:l.a.header__number,children:e.count})]})},h=function(){return Object(m.jsx)("button",{className:l.a.add,children:"+ Add"})},f=function(e){var t="".concat(l.a[e.type]," ").concat("submit"===e.type&&l.a.submit_hover),a=e.isValid;"submit"!==e.type||e.isValid||(t="".concat(l.a[e.type]," ").concat(l.a.invalid)),"cancel"===e.type&&(a=!0);return Object(m.jsx)("button",{className:"".concat(t),onClick:function(){e.hasOwnProperty("closeModal")&&e.closeModal()},disabled:!a,children:e.content})},v=function(e){var t=l.a[e.type];return Object(m.jsx)("button",{className:"".concat(t),onClick:function(){e.clickEvent(e.content)},children:e.content})},x=function(e){var t;switch(e.type){case"cancel":case"submit":t=Object(m.jsx)(f,Object(o.a)({},e));break;case"cart":t=Object(m.jsx)(v,Object(o.a)({},e));break;case"header":t=Object(m.jsx)(p,Object(o.a)({},e));break;case"add":t=Object(m.jsx)(h,{});break;default:console.log("Buttontype not found")}return Object(m.jsx)(m.Fragment,{children:t})},N=a.p+"static/media/meals.0b88c523.jpg",y=function(){var e=Object(r.useContext)(O);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("header",{className:"nav",children:[Object(m.jsx)("h1",{className:"nav__caption",children:"Foody"}),Object(m.jsx)(x,Object(o.a)(Object(o.a)({type:"header"},e.cartCounter),{},{openModal:e.openModal}))]}),Object(m.jsx)("img",{alt:"Background",className:"img",src:N})]})},g=a(11),C=a(7),F=a.n(C),S=(a(25),a(26),function(e){var t=Object(r.useContext)(O),a=Object(r.useState)(1),n=Object(j.a)(a,2),c=n[0],s=n[1];return Object(m.jsxs)("form",{className:"amount",onSubmit:function(a){a.preventDefault(),t.setCount({type:"increment",amount:c}),t.changeMealAmount({id:e.identifier,value:+c,type:"add"}),s(1),t.setAnimation()},children:[Object(m.jsxs)("div",{className:"amount__container",children:[Object(m.jsx)("label",{className:"amount__text",children:"Amount"}),Object(m.jsx)("input",{className:"amount__input",onChange:function(e){s(e.target.value)},value:c,type:"number",min:"1"})]}),Object(m.jsx)(x,{type:"add"})]})}),M=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{className:"meal",children:[Object(m.jsxs)("div",{className:"description__meal",children:[Object(m.jsx)("h3",{className:"description__name",children:e.name}),Object(m.jsx)("p",{className:"description__subtext",children:e.info}),Object(m.jsxs)("p",{className:"description__price",children:["$",e.price]})]}),Object(m.jsx)(S,{identifier:e.id})]})})},k=(a(27),function(e){return Object(m.jsx)("div",{className:"meallist-container",children:Object(m.jsx)("div",{className:"meallist",children:e.children})})}),B=a(15),L=a.n(B),A={API_KEY:"https://food-order-app-10fa0-default-rtdb.europe-west1.firebasedatabase.app"},I=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),i=s[0],l=s[1],u=Object(r.useContext)(O);return Object(r.useEffect)((function(){var e=A.API_KEY+"/meals.json",t=function(){var t=Object(g.a)(F.a.mark((function t(){var a,c,r,s,i,d,m,b;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:for(c=t.sent,r=[],s=0,i=Object.entries(c);s<i.length;s++)d=Object(j.a)(i[s],2),m=d[0],b=d[1],r.push(Object(o.a)({id:m},b));n(r),u.setMeals(r),l(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l(!0),t()}),[]),Object(m.jsxs)(k,{children:[!i&&a.map((function(e){return Object(m.jsx)(M,Object(o.a)({},e),e.id)})),i&&Object(m.jsx)("p",{className:L.a.loading,children:"Loading..."})]})},E=(a(28),function(){return Object(m.jsx)("section",{className:"description",children:Object(m.jsxs)("div",{className:"description__container",children:[Object(m.jsx)("h2",{className:"description__caption",children:"Healthy and delicious. Guaranteed."}),Object(m.jsx)("p",{className:"description__content",children:"Who said that fast food can't be healthy. We definitely not! Something Japanese for the evening? Or something spicy Mexican?"}),Object(m.jsx)("p",{className:"description__content",children:"At foody you don't have to limit yourself. Order whatever you're hungry for from our broad selection."})]})})}),P=a(14),w=a.n(P),R=function(e){return Object(m.jsx)("div",{className:w.a.background,onClick:function(){e.closeModal()}})},T=function(e){return Object(m.jsx)("div",Object(o.a)(Object(o.a)({className:w.a.modal},e),{},{children:e.children}))},D=document.querySelector("#overlays"),H=function(e){return Object(m.jsxs)(m.Fragment,{children:[c.a.createPortal(Object(m.jsx)(R,Object(o.a)({},e)),D),c.a.createPortal(Object(m.jsx)(T,{children:e.children}),D)]})},J=a(9),Y=a.n(J),z=a(6),K=a.n(z),V=function(e){var t=Object(r.useContext)(O),a=function(a){if(!(t.cartCounter.count<=0))switch(a){case"-":t.setCount({type:"decrement",amount:1}),t.changeMealAmount({id:e.id,value:1,type:"remove"});break;case"+":t.setCount({type:"increment",amount:1}),t.changeMealAmount({id:e.id,value:1,type:"add"});break;default:console.log("Error Cart Button")}};return Object(m.jsxs)("div",{className:K.a.modal__meal,children:[Object(m.jsxs)("div",{className:K.a["modal__container-left"],children:[Object(m.jsx)("p",{className:K.a.modal__name,children:e.name}),Object(m.jsxs)("div",{className:K.a["modal__container-price"],children:[Object(m.jsxs)("p",{className:K.a.modal__price,children:["$",e.price]}),Object(m.jsxs)("p",{className:K.a.modal__amount,children:["x ",e.amount]})]})]}),Object(m.jsxs)("div",{className:K.a["modal__container-right"],children:[Object(m.jsx)(x,Object(o.a)(Object(o.a)({},{type:"cart",content:"-"}),{},{clickEvent:a})),Object(m.jsx)(x,Object(o.a)(Object(o.a)({},{type:"cart",content:"+"}),{},{clickEvent:a}))]})]})},W=a(2),X=a.n(W),Z=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(O),s=Object(r.useRef)(),i=Object(r.useRef)(),l=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)(),b=Object(r.useRef)(),_=Object(r.useCallback)((function(){var e=s.current.value.trim().length>0,t=i.current.value.trim().length>0,a=l.current.value.trim().length>0,r=u.current.value.trim().length>0,o=d.current.value.trim().length>0&&!isNaN(d.current.value.trim()),j=b.current.value.trim().length>0,m=c.cartMeals.length>0;n(!!(e&&t&&a&&r&&o&&j&&m)),e?s.current.classList.remove("".concat(X.a.invalid)):s.current.classList.add("".concat(X.a.invalid)),t?i.current.classList.remove("".concat(X.a.invalid)):i.current.classList.add("".concat(X.a.invalid)),a?l.current.classList.remove("".concat(X.a.invalid)):l.current.classList.add("".concat(X.a.invalid)),r?u.current.classList.remove("".concat(X.a.invalid)):u.current.classList.add("".concat(X.a.invalid)),o?d.current.classList.remove("".concat(X.a.invalid)):d.current.classList.add("".concat(X.a.invalid)),j?b.current.classList.remove("".concat(X.a.invalid)):b.current.classList.add("".concat(X.a.invalid))}),[]);Object(r.useEffect)((function(){_(),0===c.cartMeals.length&&n(!1)}),[c.cartMeals,_]);var p=function(e){_(),c.setFirstName(s.current.value),c.setLastName(i.current.value),c.setStreet(l.current.value),c.setStreetNumber(u.current.value),c.setPostalCode(d.current.value),c.setCity(b.current.value)},h=function(){var e=Object(g.a)(F.a.mark((function e(t){var a,n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.API_KEY+"/user.json",e.next=3,fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),console.log("button pressed"),a){var t={};t.firstName=s.current.value,t.lastName=i.current.value,t.street=l.current.value,t.streetNumber=u.current.value,t.postalCode=d.current.value,t.city=b.current.value,h(t),c.setFirstName(""),c.setLastName(""),c.setStreet(""),c.setStreetNumber(""),c.setPostalCode(""),c.setCity("")}},className:X.a.Form,children:[Object(m.jsxs)("div",{className:X.a.separator,children:[Object(m.jsxs)("div",{className:X.a.Form_container,children:[Object(m.jsx)("input",{placeholder:"First Name",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.firstName,ref:s}),Object(m.jsx)("input",{placeholder:"Street",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.street,ref:l}),Object(m.jsx)("input",{placeholder:"Postal Code",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.postalCode,ref:d})]}),Object(m.jsxs)("div",{className:X.a.Form_container,children:[Object(m.jsx)("input",{placeholder:"Last Name",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.lastName,ref:i}),Object(m.jsx)("input",{placeholder:"Street Number",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.streetNumber,ref:u}),Object(m.jsx)("input",{placeholder:"City",type:"text",className:"".concat(X.a.Form_input," ").concat(X.a.invalid),onChange:p,value:c.city,ref:b})]})]}),Object(m.jsxs)("div",{className:X.a.Button_container,children:[Object(m.jsx)(x,Object(o.a)(Object(o.a)({},{type:"cancel",content:"Close"}),{},{closeModal:c.closeModal})),Object(m.jsx)(x,Object(o.a)(Object(o.a)({},{type:"submit",content:"Order"}),{},{type:"submit",isValid:a}))]})]})})},$=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(O);return Object(r.useEffect)((function(){var e=[],t=0;!function(){var t,a=Object(d.a)(c.cartMeals);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.push(n.amount*+n.price)}}catch(r){a.e(r)}finally{a.f()}}();for(var a=0;a<e.length;a++)t+=e[a];n(t)}),[c.cartMeals]),Object(m.jsx)("div",{className:Y.a.cart,children:Object(m.jsxs)(H,{closeModal:c.closeModal,children:[c.cartMeals.map((function(e){return Object(m.jsx)(V,Object(o.a)({},e),e.id)})),Object(m.jsxs)("div",{className:Y.a.total__container,children:[Object(m.jsx)("p",{className:Y.a.total__amount,children:"Total Amount"}),Object(m.jsxs)("p",{className:Y.a.total__price,children:["$",a.toFixed(2)]})]}),Object(m.jsx)(Z,{})]})})},q=a(16),G=a.n(q);var Q=function(){var e=Object(r.useContext)(O);return Object(m.jsxs)("div",{className:G.a.app,children:[e.modalState?Object(m.jsx)($,{}):"",Object(m.jsx)(y,{}),Object(m.jsx)(E,{}),Object(m.jsx)(I,{})]})};c.a.render(Object(m.jsx)(_,{children:Object(m.jsx)(Q,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.fe913755.chunk.js.map